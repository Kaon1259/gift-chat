<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title><%= (typeof title !== 'undefined' && title) ? title : 'GIF Chat' %></title>
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <header>
    <!-- ์๋จ ๋ฐ (์ํ/์๋ฆผ/ํ๋กํ ๊ฐ๋จ ํ์) -->
    <div class="topbar">
      <% if (typeof user !== 'undefined' && user) { %>
        <span class="topbar-text">
          ์๋ํ์ธ์, <strong><%= user.nick || user.email %></strong> ๋ ๐
        </span>
      <% } else { %>
        <span class="topbar-text">GIF Chat์ ์ค์ ๊ฒ์ ํ์ํฉ๋๋ค ๐</span>
      <% } %>
    </div>

    <!-- ๋ฉ๋ด ๋ฐ -->
    <nav class="navbar">
      <% if (typeof user !== 'undefined' && user) { %>
        <!-- โ ๋ก๊ทธ์ธ ์ํ: ํ์๊ฐ์ + ๋ก๊ทธ์์ -->
        <a href="/auth/join">ํ์๊ฐ์</a>
        <a href="/auth/logout">๋ก๊ทธ์์</a>
      <% } else { %>
        <!-- โ ๋น๋ก๊ทธ์ธ ์ํ: ํ / ๋ก๊ทธ์ธ / ํ์๊ฐ์ -->
        <a href="/">ํ</a>
        <a href="/auth/login">๋ก๊ทธ์ธ</a>
        <a href="/auth/join">ํ์๊ฐ์</a>
      <% } %>
    </nav>
  </header>

  <main class="container">
    <%- body %>
  </main>

  <footer>
    <p>&copy; 2025 GIF Chat</p>
  </footer>
</body>
</html>
